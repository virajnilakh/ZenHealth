runtime: python
env: flex

runtime_config:
    python_version: 3

entrypoint: gunicorn -b :$PORT application:app
#
## This sample incurs costs to run on the App Engine flexible environment.
## The settings below are to reduce costs during testing and are not appropriate
## for production use. For more information, see:
## https://cloud.google.com/appengine/docs/flexible/python/configuring-your-app-with-app-yaml
manual_scaling:
  instances: 1
resources:
  cpu: 1
  memory_gb: 1
  disk_size_gb: 20

readiness_check:
  check_interval_sec: 120
  timeout_sec: 40
  failure_threshold: 5
  success_threshold: 5
  app_start_timeout_sec: 1500

#env_variables:
#    # The app will look for the model file at: gs://MODEL_BUCKET/MODEL_FILENAME
#    MODEL_BUCKET: BUCKET_NAME
#    MODEL_FILENAME: lr.pkl


#This approach doesnt work for python 3 , keeping for reference
#runtime: python3
#api_version: 1
#threadsafe: true
#
#handlers:
#- url: /.*
#  script: main.application

